///////////////////////////////////////////////////////////////////////////////
//  PERMANENT UI -- DO *NOT* MAKE CHANGES HERE                               //
///////////////////////////////////////////////////////////////////////////////

newui "perm" [
	uieschide 0
	uiclamp.e

	// Vignette/Pattern effect when blurring
	if (&& [! $mainmenu] $.UI_blurring $.UI_blurbg) [
		uitiledimage "data/interface/ui/ui_bg2.png" $.UI_pad_SXL $.UI_pad_SXL
		uiimage "data/interface/shadow.png"
		uiclamp*e
	]

	// Safety catch for advanced input fields to disable
	// input capture when clicking outside the home UI
	if (getalias .UI_KBisoob) [
		uiallowinput 1
		uipress    [ .UI_KBclean ]
		uiescpress [ .UI_KBclean ]
		uitarget
		uiclamp-e
	] [ uiallowinput 0 ]

	// Code stack debug -- not implemented in Valhalla
	if (getalias debugruncodestack) [
		uispace $.UI_pad_L $.UI_pad_DL [
			uialign 1 1
			uifonttext "mono" $runcodestack 1
		]
	]
] 
