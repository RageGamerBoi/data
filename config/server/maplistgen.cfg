
///////////////////////////////////////////////////////////////////////////////
//  Map List Generators -- NEEDED FOR SERVERS, DO *NOT* MAKE CHANGES HERE    //
///////////////////////////////////////////////////////////////////////////////

defmaptable = [
	complex      0x33
	turbine_a2   0x33
	pinelake     0x7B
	wintergreen  0x33
	azag         0x7B
	nebula       0x33
	ot2          0x33
	lightspeed   0x7B
	alphacorp    0x7F
	reflection   0x7F
	azag2        0x7B
	steelribs    0x7F
	desertwind   0x7F
	waterworks   0x7F
	sera         0x33
]

// genmaplist VARNAME MODE_BITMASK MAPLIST
genmaplist = [
	if $arg3 [] [ arg3 = $defmaptable ]
	$arg1 = (loopconcat* m 2 (div (listlen $arg3) 2) [
		if (|| [= $arg2 0] [& $arg2 (at $arg3 (+ $m 1))]) [ at $arg3 $m ]
	])
]

genmaplist allmaps    0x0  // NO MASK
genmaplist dmmaps     0x1  // Deathmatch
genmaplist tdmmaps    0x2  // Team Deathmatch
genmaplist ctfmaps    0x4  // Capture The Flag
genmaplist elimmaps   0x8  // Elimination
genmaplist lmsmaps    0x10 // Last Man Standing
genmaplist juggmaps   0x20 // Juggernaut
genmaplist infectmaps 0x40 // Infection

genusermaps = [
	usermaps = [] // where custom maps by the user will be stored
	loopfiles m "data/map" "ogz" [
		if (< (indexof $allmaps $m) 0) [
			usermaps = (concat $usermaps $m)
		]
	]
]

genusermaps
