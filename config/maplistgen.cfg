
///////////////////////////////////////////////////////////////////////////////
//  Map List Generators                                                      //
///////////////////////////////////////////////////////////////////////////////

defmaptable = [
	complex      51
	turbine_a2   51
	pinelake     123
	wintergreen  51
	azag         123
	nebula       51
	ot2          51
	lightspeed   123
	alphacorp    127
	reflection   127
	azag2        123
	steelribs    127
	desertwind   127
	waterworks   127
	sera         51
]

// mode: edit dm tdm ctf elim lms jugg infect
// mask: 0    1  2   4   8    16  32   64

// genmaplist VARNAME MODE_BITMASK MAPLIST
genmaplist = [
	if $arg3 [] [ arg3 = $defmaptable ]
	$arg1 = (loopconcat* m 2 (div (listlen $arg3) 2) [
		if (|| [= $arg2 0] [& $arg2 (at $arg3 (+ $m 1))]) [ at $arg3 $m ]
	])
]

genmaplist allmaps    0
genmaplist dmmaps     1
genmaplist tdmmaps    2
genmaplist ctfmaps    4
genmaplist elimmaps   8
genmaplist lmsmaps    16
genmaplist juggmaps   32
genmaplist infectmaps 64

genusermaps = [
	usermaps = []
	loopfiles m "data/map" "ogz" [
		if (< (indexof $allmaps $m) 0) [
			usermaps = (concat $usermaps $m)
		]
	]
]

genusermaps
